name: bluesky-bot2-70-30
on:
  schedule:
    - cron: "15 */2 * * *"
  workflow_dispatch: {}
jobs:
  run-bot2:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: '3.x'
      - name: Install deps
        run: pip install atproto>=0.0.45
      - name: Run bot2
        env:
          BSKY2_HANDLE: ${{ secrets.BSKY2_HANDLE }}
          BSKY2_APP_PASSWORD: ${{ secrets.BSKY2_APP_PASSWORD }}
          BOT2_QUERY: ${{ vars.BOT2_QUERY }}
          BOT2_LIKE_LIMIT: ${{ vars.BOT2_LIKE_LIMIT }}
          BOT2_REPOST_LIMIT: ${{ vars.BOT2_REPOST_LIMIT }}
          BOT2_SOURCE_HANDLES: ${{ vars.BOT2_SOURCE_HANDLES }}
          BOT2_DISCOVERY_WEIGHT: ${{ vars.BOT2_DISCOVERY_WEIGHT }}
        run: python bot2.py
